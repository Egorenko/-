from random import *

word_list = ['человек', 'работа', 'вопрос', 'сторона', 'страна', 'случай', 'голова',
        'ребенок', 'система', 'отношение', 'женщина', 'деньги', 'машина', 'проблема',
        'решение', 'история', 'власть', 'тысяча', 'возможность', 'результат',
        'область', 'статья', 'компания', 'группа', 'развитие', 'процесс', 'условие',
        'средство', 'начало', 'уровень', 'минута', 'качество', 'дорога', 'действие',
        'государство', 'любовь', 'взгляд', 'общество', 'деятельность', 'организация',
        'президент', 'комната', 'порядок', 'момент', 'письмо', 'помощь', 'ситуация',
        'состояние', 'квартира', 'внимание', 'смерть', 'программа', 'задача',
        'предприятие', 'разговор', 'правительство', 'производство', 'информация',
        'положение', 'интерес', 'федерация', 'правило', 'управление', 'мужчина',
        'партия', 'сердце', 'движение', 'материал', 'неделя', 'чувство', 'газета',
        'причина', 'основа', 'товарищ', 'культура', 'данные', 'мнение', 'документ',
        'институт', 'проект', 'встреча', 'директор', 'служба', 'судьба', 'девушка',
        'очередь', 'состав', 'количество', 'событие', 'объект', 'создание', 'значение',
        'период', 'искусство', 'структура', 'пример', 'исследование', 'гражданин',
        'начальник', 'принцип', 'воздух', 'характер', 'борьба', 'использование',
        'размер', 'образование', 'мальчик', 'представитель', 'участие', 'девочка',
        'политика', 'картина', 'доллар', 'территория', 'изменение', 'направление',
        'рисунок', 'течение', 'церковь', 'население', 'большинство', 'музыка',
        'правда', 'свобода', 'память', 'команда', 'договор', 'дерево', 'хозяин',
        'природа', 'телефон', 'позиция', 'писатель', 'самолет', 'солнце', 'спектакль',
        'способ', 'журнал', 'руководитель', 'специалист', 'оценка', 'регион', 'процент',
        'родитель', 'требование', 'основание', 'половина', 'анализ', 'автомобиль',
        'экономика', 'литература', 'бумага', 'степень', 'господин', 'надежда',
        'предмет', 'руководство', 'площадь', 'режиссер', 'поверхность', 'ощущение',
        'станция', 'революция', 'колено', 'министерство', 'стекло']

def is_alpha():
    while True:
        s = input('Введите букву или слово.\n')
        n = list()
        for i in s:
            if i.isalpha() == True:
                n.append(i)
            else:
                print('Вы где-то ошиблись, повторите ввод.')
        return n

def get_word(word_list):
    n = randint(0, len(word_list))
    return word_list[n].upper()

def display_hangman(tries):
    stages = [  # финальное состояние: голова, торс, обе руки, обе ноги
                '''
                    _______________________________________
                    ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
                    ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    _____$$$__________________$$$$$$$______
                    ____$$$$$_________________$$$$$$$______
                    _____$$$__________________$$$$$$$______
                    ___$ZZZZZ$________________$$$$$$$______
                    __$$$$$$$$$_______________$$$$$$$______
                    __$_$$$$$_$_______________$$$$$$$______
                    __$_$$$$$_$_______________$$$$$$$______
                    __$_$$$$$_$_______________$$$$$$$______
                    ____$$_$$_________________$$$$$$$______
                    ___$$___$$________________$$$$$$$______
                    ___$$___$$________________$$$$$$$______
                    ___$$___$$_____________$$$$$$$$$$$$$___
                    $__$$___$$__$$$$$$$$$$$$$$$$$$$$$$$$$$$
                    _\_________/_______$$$$$$$$$$$$$$$$$$$$$
                    __\_______/________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                ''',
                # голова, торс, обе руки, одна нога
                '''
                    _______________________________________
                    ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
                    ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    _____$$$__________________$$$$$$$______
                    ____$$$$$_________________$$$$$$$______
                    _____$$$__________________$$$$$$$______
                    ___$ZZZZZ$________________$$$$$$$______
                    __$$$$$$$$$_______________$$$$$$$______
                    __$_$$$$$_$_______________$$$$$$$______
                    __$_$$$$$_$_______________$$$$$$$______
                    __$_$$$$$_$_______________$$$$$$$______
                    ____$$____________________$$$$$$$______
                    ___$$_____________________$$$$$$$______
                    ___$$_____________________$$$$$$$______
                    ___$$__________________$$$$$$$$$$$$$___
                    $__$$_______$$$$$$$$$$$$$$$$$$$$$$$$$$$
                    _\_________/_______$$$$$$$$$$$$$$$$$$$$$
                    __\_______/________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                ''',
                # голова, торс, обе руки
                '''
                    _______________________________________
                    ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
                    ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    _____$$$__________________$$$$$$$______
                    ____$$$$$_________________$$$$$$$______
                    _____$$$__________________$$$$$$$______
                    ___$ZZZZZ$________________$$$$$$$______
                    __$$$$$$$$$_______________$$$$$$$______
                    __$_$$$$$_$_______________$$$$$$$______
                    __$_$$$$$_$_______________$$$$$$$______
                    __$_$$$$$_$_______________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    _______________________$$$$$$$$$$$$$___
                    $___________$$$$$$$$$$$$$$$$$$$$$$$$$$$
                    _\_________/_______$$$$$$$$$$$$$$$$$$$$$
                    __\_______/________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                ''',
                # голова, торс и одна рука
                '''
                    _______________________________________
                    ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
                    ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    _____$$$__________________$$$$$$$______
                    ____$$$$$_________________$$$$$$$______
                    _____$$$__________________$$$$$$$______
                    ___$ZZZZZ_________________$$$$$$$______
                    __$$$$$$$_________________$$$$$$$______
                    __$_$$$$$_________________$$$$$$$______
                    __$_$$$$$_________________$$$$$$$______
                    __$_$$$$$_________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    _______________________$$$$$$$$$$$$$___
                    $___________$$$$$$$$$$$$$$$$$$$$$$$$$$$
                    _\_________/_______$$$$$$$$$$$$$$$$$$$$$
                    __\_______/________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                ''',
                # голова и торс
                '''
                    _______________________________________
                    ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
                    ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    _____$$$__________________$$$$$$$______
                    ____$$$$$_________________$$$$$$$______
                    _____$$$__________________$$$$$$$______
                    ____ZZZZZ_________________$$$$$$$______
                    ____$$$$$_________________$$$$$$$______
                    ____$$$$$_________________$$$$$$$______
                    ____$$$$$_________________$$$$$$$______
                    ____$$$$$_________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    _______________________$$$$$$$$$$$$$___
                    $___________$$$$$$$$$$$$$$$$$$$$$$$$$$$
                    _\_________/_______$$$$$$$$$$$$$$$$$$$$$
                    __\_______/________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                ''',
                # голова
                '''
                    _______________________________________
                    ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
                    ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    _____$$$__________________$$$$$$$______
                    ____$$$$$_________________$$$$$$$______
                    _____$$$__________________$$$$$$$______
                    ____ZZZZZ_________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    _______________________$$$$$$$$$$$$$___
                    $___________$$$$$$$$$$$$$$$$$$$$$$$$$$$
                    _\_________/_______$$$$$$$$$$$$$$$$$$$$$
                    __\_______/________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                ''',
                # начальное состояние
                '''
                    _______________________________________
                    ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
                    ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    ______Z___________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    ____ZZZZZ_________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    __________________________$$$$$$$______
                    _______________________$$$$$$$$$$$$$___
                    $___________$$$$$$$$$$$$$$$$$$$$$$$$$$$
                    _\_________/_______$$$$$$$$$$$$$$$$$$$$$
                    __\_______/________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                    __________________$$$$$$$$$$$$$$$$$$$$$
                ''',
    ]
    return stages[tries]

def play(word):
    tries = 6                          # количество попыток
    guessed = False                    # сигнальная метка
    guessed_letters = []               # список уже названных букв
    guessed_words = []                 # список уже названных слов
    print(display_hangman(tries))
    word_completion = [i for i in '_' * len(word)]
    print(*word_completion)
    flag = input('Вы хотите подсказку?\n')
    if flag == 'да':
        word_completion[0] = word[0]
        word_completion[-1] = word[-1]
        print(*word_completion)
    while tries != 0:
        simbol = is_alpha()
        if len(simbol) == 1:
            letter = ''.join(simbol)
            if letter in guessed_letters:
                print('Вы уже проверяли эту букву.')
            else:
                guessed_letters.append(letter)
                tries -= 1
                for i in range(len(word)):
                    if letter.upper() == word[i]:
                        word_completion[i] = letter.upper()
                        tries += 1
                if '_' not in word_completion:
                    print('Вы угадали!')
                    break
                else:
                    print(display_hangman(tries))
                    print(f"Уже названы буквы: {','.join(guessed_letters)},\nуже названы слова: {','.join(guessed_words)}")
                    print(*word_completion)
        else:
            word_ex = ''.join(simbol)
            if word_ex in guessed_words:
                print('Вы уже проверяли это слово.')
            else:
                guessed_words.append(word_ex)
                tries -= 1
                if word_ex.upper() == word:
                    tries += 1
                    print('Вы угадали!')
                    break
                else:
                    print(display_hangman(tries))
                    print(*word_completion)
    else:
        print('Вы проиграли!')
        print(f'Было загадано слово: {word}')

print('Давай сыграем в висилецу!')
while True:
    play(get_word(word_list))
    flag = input('Хочешь сыграть еще?\n')
    if flag == 'нет':
        print('До скорых встреч!')
        break